(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fbd6"],{"5HWN":function(t,e,n){"use strict";n.d(e,"l",function(){return i}),n.d(e,"j",function(){return a}),n.d(e,"a",function(){return r}),n.d(e,"v",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"t",function(){return u}),n.d(e,"p",function(){return l}),n.d(e,"u",function(){return d}),n.d(e,"s",function(){return p}),n.d(e,"r",function(){return h}),n.d(e,"q",function(){return f}),n.d(e,"g",function(){return m}),n.d(e,"f",function(){return g}),n.d(e,"h",function(){return v}),n.d(e,"e",function(){return _}),n.d(e,"i",function(){return b}),n.d(e,"o",function(){return k}),n.d(e,"w",function(){return w}),n.d(e,"n",function(){return y}),n.d(e,"m",function(){return x}),n.d(e,"k",function(){return j}),n.d(e,"b",function(){return S}),n.d(e,"d",function(){return O});var o=n("t3Un");function i(t){return Object(o.a)({url:"/docs/",method:"get",params:t})}function a(t){return Object(o.a)({url:"/docs/"+t+"/",method:"get"})}function r(t){return Object(o.a)({url:"/docs/",method:"post",data:t})}function s(t){return Object(o.a)({url:"/docs/"+t.id+"/",method:"put",data:t})}function c(t){return Object(o.a)({url:"/docs/"+t+"/",method:"delete"})}function u(t){return Object(o.a)({url:"/docs/search/",method:"get",params:t})}function l(t){return Object(o.a)({url:"/docs/publish/"+t+"/",method:"put"})}function d(t,e){return Object(o.a)({url:"/docs/share/"+t+"/",method:"put",data:{share_to:e}})}function p(){return Object(o.a)({url:"/docs/pupulartags/",method:"get"})}function h(){return Object(o.a)({url:"/docs/pupularkeywords/",method:"get"})}function f(){return Object(o.a)({url:"/docs/populardocs/",method:"get"})}function m(t){return"http://121.42.144.73/docs/download/md/"+t+"/"}function g(t){return"http://121.42.144.73/docs/download/html/"+t+"/"}function v(t){return"http://121.42.144.73/docs/download/pdf/"+t+"/"}function _(t){return"http://121.42.144.73/docs/download/docx/"+t+"/"}function b(t){return"http://121.42.144.73/docs/download/pptx/"+t+"/"}function k(t,e){return"http://121.42.144.73/docs/onlineppt/"+t+"/?theme="+e}function w(){return"http://121.42.144.73/resources/upload/"}function y(t){return Object(o.a)({url:"/docs/templates/",method:"get",params:t})}function x(t){return Object(o.a)({url:"/docs/templates/"+t+"/",method:"get"})}function j(t){return Object(o.a)({url:"/docs/favorites/",method:"get",params:t})}function S(t){return Object(o.a)({url:"/docs/favorites/",method:"post",data:t})}function O(t){return Object(o.a)({url:"/docs/favorites/"+t+"/",method:"delete"})}},"9a4/":function(t,e,n){t.exports=n.p+"static/assets/img/blood.79d3be8.png"},E12R:function(t,e,n){t.exports=n.p+"static/assets/img/sky.e51c96e.png"},K13I:function(t,e,n){t.exports=n.p+"static/assets/img/beige.d8ce7a4.png"},TfBE:function(t,e,n){t.exports=n.p+"static/assets/img/serif.4378545.png"},UviT:function(t,e,n){t.exports=n.p+"static/assets/img/simple.d22aa79.png"},j3mE:function(t,e,n){t.exports=n.p+"static/assets/img/black.8621be6.png"},jxna:function(t,e,n){t.exports=n.p+"static/assets/img/moon.8d64edd.png"},lAbF:function(t,e,n){"use strict";n.r(e);var o=n("P2sY"),i=n.n(o),a=n("QbLZ"),r=n.n(a),s=n("L2JU"),c=n("5HWN"),u=n("K13I"),l=n("j3mE"),d=n("9a4/"),p=n("saz7"),h=n("jxna"),f=n("oIMB"),m=n("TfBE"),g=n("UviT"),v=n("E12R"),_=n("p81Y"),b=n("yS8L"),k={name:"Dashboard",data:function(){return{searchedText:"",isSearching:!1,pupularTags:[],pupularKeywords:[],pupularDocs:[],list:[],total:0,page:1,pageSize:10,revealThemeDialogVisible:!1,themes:{beige:u,black:l,blood:d,league:p,moon:h,night:f,serif:m,simple:g,sky:v,solarized:_,white:b}}},computed:r()({},Object(s.b)(["name","roles"])),created:function(){var t=this;Object(c.s)().then(function(e){t.pupularTags=e}),Object(c.r)().then(function(e){t.pupularKeywords=e}),Object(c.q)().then(function(e){t.pupularDocs=e})},methods:{onSearch:function(t){var e=this;"[object String]"===Object.prototype.toString.call(t)&&(this.searchedText=t),this.searchedText&&(this.isSearching=!0,Object(c.t)(this.getQuery({search_word:this.searchedText})).then(function(t){e.list=t.results,e.total=t.count}))},onSearchAuthor:function(t){var e=this;this.isSearching=!0,this.searchedText="",Object(c.t)(this.getQuery({author:t})).then(function(t){e.list=t.results,e.total=t.count})},onSearchTechStack:function(t){var e=this;this.isSearching=!0,this.searchedText="",Object(c.t)(this.getQuery({tech_stack:t})).then(function(t){e.list=t.results,e.total=t.count})},onSearchTag:function(t){var e=this;this.isSearching=!0,this.searchedText="",Object(c.t)(this.getQuery({tag:t})).then(function(t){e.list=t.results,e.total=t.count})},displayViewUrl:function(t){return"http://"+location.host+"/#/view/"+t},getQuery:function(t){var e={limit:this.pageSize,offset:(this.page-1)*this.pageSize};return i()(e,t),e},favorite:function(t){var e=this;Object(c.b)({doc:t}).then(function(t){e.$message({message:"已收藏",type:"success"})})},downloadMdUrl:function(t){return Object(c.g)(t)},downloadHtmlUrl:function(t){return Object(c.f)(t)},downloadPdfUrl:function(t){return Object(c.h)(t)},downloadDocxUrl:function(t){return Object(c.e)(t)},downloadPptxUrl:function(t){return Object(c.i)(t)},onlinePptUrl:function(t,e){return Object(c.o)(t,e)},onSelectTheme:function(t){this.revealThemeDialogVisible=!1}}},w=(n("v61H"),n("KHd+")),y=Object(w.a)(k,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-container"},[n("div",{class:{"search-position-normal":!t.isSearching,"search-position-top":t.isSearching}},[n("h2",{class:{title:!t.isSearching,"title-hide":t.isSearching}},[t._v("全 文 检 索 "),n("i",{staticClass:"el-icon-search"})]),t._v(" "),n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入关键字"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSearch(e):null}},model:{value:t.searchedText,callback:function(e){t.searchedText="string"==typeof e?e.trim():e},expression:"searchedText"}},[n("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},nativeOn:{click:function(e){return t.onSearch(e)}},slot:"append"})],1)],1),t._v(" "),n("div",{staticClass:"search-results"},[t._l(t.list,function(e){return n("dl",{key:e.key,staticClass:"result-item"},[n("dt",{staticClass:"result-item-title"},[n("router-link",{attrs:{to:{name:"Doc-View",params:{id:e.id}},target:"_blank"}},[t._v(t._s(e.title))])],1),t._v(" "),n("dd",{staticClass:"result-item-content",domProps:{innerHTML:t._s(e.searched)}}),t._v(" "),n("dd",{staticClass:"result-item-tags"},[n("el-tag",{attrs:{type:"success"}},[t._v("作者："),n("a",{on:{click:function(n){t.onSearchAuthor(e.author)}}},[t._v(t._s(e.author_name))])]),t._v(" "),n("el-tag",{attrs:{type:"warning"}},[t._v("领域："),n("a",{on:{click:function(n){t.onSearchTechStack(e.tech_stack)}}},[t._v(t._s(e.tech_stack_name))])]),t._v(" "),t._l(e.tags,function(e){return n("el-tag",{key:e,staticStyle:{"margin-right":"4px"}},[n("a",{on:{click:function(n){t.onSearchTag(e)}}},[n("em",[t._v(t._s(e))])])])})],2),t._v(" "),n("dd",{staticClass:"result-item-link"},[n("router-link",{staticStyle:{"margin-right":"10px"},attrs:{to:{name:"Doc-View",params:{id:e.id}},target:"_blank"}},[t._v(t._s(t.displayViewUrl(e.id)))]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){t.revealThemeDialogVisible=!0,t.onlinepptViewedId=e.id}}},[t._v("在线PPT阅读")]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"收藏",placement:"top"}},[n("el-button",{staticClass:"result-item-link-favorite",attrs:{type:"text"},on:{click:function(n){t.favorite(e.id)}}},[n("i",{staticClass:"el-icon-doooc-shoucang"})])],1),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载MARKDOWN文件",placement:"top"}},[n("a",{attrs:{href:t.downloadMdUrl(e.id),download:""}},[n("el-button",{attrs:{type:"text",icon:"el-icon-doooc-markdown",size:"medium"}})],1)]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载HTML文件",placement:"top"}},[n("a",{attrs:{href:t.downloadHtmlUrl(e.id),download:""}},[n("el-button",{attrs:{type:"text",icon:"el-icon-doooc-html",size:"medium"}})],1)]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载WORD文件",placement:"top"}},[n("a",{attrs:{href:t.downloadDocxUrl(e.id),download:""}},[n("el-button",{attrs:{type:"text",icon:"el-icon-doooc-word",size:"medium"}})],1)]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载PDF文件",placement:"top"}},[n("a",{attrs:{href:t.downloadPdfUrl(e.id),download:""}},[n("el-button",{attrs:{type:"text",icon:"el-icon-doooc-pdf",size:"medium"}})],1)]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载PPT文件",placement:"top"}},[n("a",{attrs:{href:t.downloadPptxUrl(e.id),download:""}},[n("el-button",{attrs:{type:"text",icon:"el-icon-doooc-ppt",size:"medium"}})],1)])],1)])}),t._v(" "),t.isSearching&&0===t.total?n("div",{staticClass:"sorry"},[t._v("很抱歉，没有找到与"),n("span",{staticStyle:{color:"red",margin:"0 5px"}},[t._v(t._s(t.searchedText))]),t._v("相关的文档。")]):t._e()],2),t._v(" "),n("div",{staticClass:"pupular-shortcut",class:{"pupular-shortcut-no-margin":t.isSearching}},[n("dl",[n("dt",[t._v("热门标签")]),t._v(" "),n("dd",t._l(t.pupularTags,function(e){return n("el-tag",{key:e.tag__name,staticStyle:{"margin-right":"4px"},attrs:{size:"mini"}},[n("a",{on:{click:function(n){t.onSearchTag(e.tag__name)}}},[n("em",[t._v(t._s(e.tag__name))])])])}))]),t._v(" "),n("dl",[n("dt",[t._v("都在搜索")]),t._v(" "),n("dd",t._l(t.pupularKeywords,function(e){return n("el-tag",{key:e.keyword,staticStyle:{"margin-right":"4px"},attrs:{size:"mini"}},[n("a",{on:{click:function(n){t.onSearch(e.keyword)}}},[n("em",[t._v(t._s(e.keyword))])])])}))]),t._v(" "),n("dl",[n("dt",[t._v("最受欢迎")]),t._v(" "),n("dd",t._l(t.pupularDocs,function(e){return n("router-link",{key:e.id,staticClass:"doc-title",attrs:{to:{name:"Doc-View",params:{id:e.id}},target:"_blank"}},[t._v(t._s("<<"+e.title+">>"))])}))])]),t._v(" "),n("el-dialog",{attrs:{visible:t.revealThemeDialogVisible,top:"5vh",title:"选择幻灯片样式",width:"80%"},on:{"update:visible":function(e){t.revealThemeDialogVisible=e}}},[n("el-row",t._l(t.themes,function(e,o,i){return n("el-col",{key:o,attrs:{span:6,offset:i%3>0?2:0}},[n("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[n("a",{attrs:{href:t.onlinePptUrl(t.onlinepptViewedId,o),target:"_blank"}},[n("img",{staticClass:"image",attrs:{src:e},on:{click:function(e){t.onSelectTheme(o)}}})]),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("span",[t._v(t._s(o))])])])],1)}))],1)],1)},[],!1,null,"5d4a4f4c",null);y.options.__file="index.vue";e.default=y.exports},oIMB:function(t,e,n){t.exports=n.p+"static/assets/img/night.89c883a.png"},p81Y:function(t,e,n){t.exports=n.p+"static/assets/img/solarized.fe9567d.png"},saz7:function(t,e,n){t.exports=n.p+"static/assets/img/league.fa241a7.png"},v61H:function(t,e,n){"use strict";var o=n("vWt/");n.n(o).a},"vWt/":function(t,e,n){},yS8L:function(t,e,n){t.exports=n.p+"static/assets/img/white.3e7f8ea.png"}}]);